{% extends 'base.html.twig' %}

{% block title %}Connexion - Legal Docs Generator
{% endblock %}

{% block body %}
	<div class="min-h-screen flex items-center justify-center bg-gray-100 py-12 px-4">
		<div
			class="max-w-4xl w-full flex gap-8">
			<!-- Formulaire de connexion -->
			<div class="bg-white p-8 rounded-lg shadow-lg w-full max-w-md">
				<div class="text-center mb-6">
					<div class="w-16 h-16 bg-indigo-600 rounded-xl flex items-center justify-center mx-auto mb-4">
						<svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
						</svg>
					</div>
					<h1 class="text-2xl font-bold text-gray-900">LegalDocs</h1>
					<p class="text-gray-500 text-sm mt-1">Générateur de documents juridiques</p>
				</div>

				{% if error %}
					<div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4">
						{{ error.messageKey|trans(error.messageData, 'security') }}
					</div>
				{% endif %}

				<form method="post">
					<div class="mb-4">
						<label for="username" class="block text-gray-700 text-sm font-medium mb-2">Email</label>
						<input type="email" value="{{ last_username }}" name="_username" id="username" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500" autocomplete="email" required autofocus>
					</div>

					<div class="mb-6">
						<label for="password" class="block text-gray-700 text-sm font-medium mb-2">Mot de passe</label>
						<input type="password" name="_password" id="password" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500" autocomplete="current-password" required>
					</div>

					<input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

					<button type="submit" class="w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition font-medium cursor-pointer">
						Se connecter
					</button>
				</form>
			</div>

			<!-- Comptes de test -->
			<div class="bg-white p-6 rounded-lg shadow-lg w-full max-w-sm">
				<h2 class="text-lg font-semibold text-gray-900 mb-4 flex items-center">
					<svg class="w-5 h-5 text-indigo-600 mr-2" fill="none" stroke="currentColor" viewbox="0 0 24 24">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"></path>
					</svg>
					Comptes de test
				</h2>
				<p class="text-xs text-gray-500 mb-4">Cliquez sur un compte pour remplir automatiquement</p>

				<div class="space-y-2">
					<button type="button" onclick="fillLogin('superadmin@legaldocs.fr', 'password')" class="w-full text-left px-3 py-2 rounded-lg border border-gray-200 hover:bg-indigo-50 hover:border-indigo-300 transition group">
						<div class="flex items-center justify-between">
							<div>
								<span class="font-medium text-gray-900 text-sm">Super Admin</span>
								<p class="text-xs text-gray-500">superadmin@legaldocs.fr</p>
							</div>
							<span class="px-2 py-0.5 bg-purple-100 text-purple-700 text-xs rounded-full">Super Admin</span>
						</div>
					</button>

					<button type="button" onclick="fillLogin('admin@legaldocs.fr', 'password')" class="w-full text-left px-3 py-2 rounded-lg border border-gray-200 hover:bg-indigo-50 hover:border-indigo-300 transition group">
						<div class="flex items-center justify-between">
							<div>
								<span class="font-medium text-gray-900 text-sm">Admin LegalDocs</span>
								<p class="text-xs text-gray-500">admin@legaldocs.fr</p>
							</div>
							<span class="px-2 py-0.5 bg-blue-100 text-blue-700 text-xs rounded-full">Admin Org</span>
						</div>
					</button>

					<button type="button" onclick="fillLogin('editeur@legaldocs.fr', 'password')" class="w-full text-left px-3 py-2 rounded-lg border border-gray-200 hover:bg-indigo-50 hover:border-indigo-300 transition group">
						<div class="flex items-center justify-between">
							<div>
								<span class="font-medium text-gray-900 text-sm">Marie Dupont</span>
								<p class="text-xs text-gray-500">editeur@legaldocs.fr</p>
							</div>
							<span class="px-2 py-0.5 bg-green-100 text-green-700 text-xs rounded-full">Éditeur</span>
						</div>
					</button>

					<button type="button" onclick="fillLogin('juriste@legaldocs.fr', 'password')" class="w-full text-left px-3 py-2 rounded-lg border border-gray-200 hover:bg-indigo-50 hover:border-indigo-300 transition group">
						<div class="flex items-center justify-between">
							<div>
								<span class="font-medium text-gray-900 text-sm">Pierre Martin</span>
								<p class="text-xs text-gray-500">juriste@legaldocs.fr</p>
							</div>
							<span class="px-2 py-0.5 bg-yellow-100 text-yellow-700 text-xs rounded-full">Validateur</span>
						</div>
					</button>

					<button type="button" onclick="fillLogin('user@legaldocs.fr', 'password')" class="w-full text-left px-3 py-2 rounded-lg border border-gray-200 hover:bg-indigo-50 hover:border-indigo-300 transition group">
						<div class="flex items-center justify-between">
							<div>
								<span class="font-medium text-gray-900 text-sm">Sophie Laurent</span>
								<p class="text-xs text-gray-500">user@legaldocs.fr</p>
							</div>
							<span class="px-2 py-0.5 bg-gray-100 text-gray-700 text-xs rounded-full">Utilisateur</span>
						</div>
					</button>
				</div>

				<div class="mt-4 pt-4 border-t border-gray-100">
					<p class="text-xs text-gray-400 text-center">
						Mot de passe :
						<code class="bg-gray-100 px-1 rounded">password</code>
					</p>
				</div>
			</div>
		</div>
	</div>

	<script>
		function fillLogin(email, password) {
document.getElementById('username').value = email;
document.getElementById('password').value = password;
document.getElementById('username').focus();
}
	</script>
{% endblock %}
